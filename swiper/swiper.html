<!DOCTYPE html>
<html>

<head>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <meta charset="utf-8">
    <title>JS Bin</title>
</head>
<style>
    .window {
        width: 500px;
        overflow: hidden;
        border: solid 10px green;

    }

    .images {
        display: flex;
        /* align-items:flex-start; */
        border: solid 1px red;
        transition: transform 0.5s;
    }

    #btn1,
    #btn2,
    #btn3 {
        width: 50px;
        margin-top: 10px;
    }

    .red {
        color: red;
    }
</style>

<body>
    <div class="window">
        <div class="images" id="images">
            <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=645440627,3638948085&fm=26&gp=0.jpg"
                alt="">
            <img src="https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3252987444,305206830&fm=26&gp=0.jpg"
                alt="">
            <img src="https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=537986023,763847140&fm=26&gp=0.jpg"
                alt="">
        </div>
    </div>
    <div class="buttons">
        <button id="btn1">1</button>
        <button id="btn2">2</button>
        <button id="btn3">3</button>
    </div>
    <script>
        // $(btn1).on('click', function () {
        //     $(images).css({
        //         transform: 'translateX(0)'
        //     });
        // });
        // $(btn2).on('click', function () {
        //     console.log($(images))
        //     $(images).css({

        //         transform: 'translateX(-500px)'
        //     });
        // });
        // $(btn3).on('click', function () {
        //     $(images).css({
        //         transform: 'translateX(-1000px)'
        //     });
        // });


        //遍历每个按钮，使得每个按钮点击后滑动
        var allButtons = $('.buttons button')
        for (var i = 0; i < allButtons.length; i++) {
            $(allButtons[i]).on('click', function (e) {
                console.log('hi')
                var index = $(e.target).index()
                var p = index * -500
                $(images).css({
                    transform: 'translate(' + p + 'px)'
                })
                p = index
            })
        }



        //定时
        var n = 0
        var count = allButtons.length
        allButtons.eq(n % count).trigger('click')
            .addClass('red')
            .siblings('.red').removeClass('red')
        var timerId = setInterval(() => {
            n += 1
            allButtons.eq(n % count).trigger('click')
                .addClass('red')
                .siblings('.red').removeClass('red')
        }, 1000);
        $('.window').on('mouseenter', function () {
            console.log('bye')
            window.clearInterval(timerId)
        })
        $('.window').on('mouseleave', function () {
            timerId = setInterval(() => {
                n += 1
                allButtons.eq(n % count).trigger('click')
                    .addClass('red')
                    .siblings('.red').removeClass('red')
            }, 1000);
        })
    </script>
</body>

</html>




<!-- 
<!DOCTYPE html>
<html>

<head>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="utf-8">
    <title>JS Bin</title>
</head>
<style>
    .window {
        width: 500px;
        overflow: hidden;

    }

    img {
        display: flex;
        transition: transform 0.5s;
        height: 400px;
    }

    #btn1,
    #btn2,
    #btn3 {
        width: 50px;
        margin-top: 10px;
    }
</style>

<body>
    <div class="window">
        <div class="images" id="images">
            <img src="https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=645440627,3638948085&fm=26&gp=0.jpg"
                alt="">
        </div>
    </div>
    <button id="btn1">1</button>
    <button id="btn2">2</button>
    <button id="btn3">3</button>


    <script>
        var imge = document.querySelector('.images img')
        $(btn1).on('click', function () {
            $(imge).attr('src', 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=645440627,3638948085&fm=26&gp=0.jpg')
        });
        $(btn2).on('click', function () {
            $(imge).attr('src', 'https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3252987444,305206830&fm=26&gp=0.jpg')
        });
        $(btn3).on('click', function () {
            console.log(imge)
            $(imge).attr('src', 'https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=537986023,763847140&fm=26&gp=0.jpg')
        });
    </script>
</body>

</html> -->